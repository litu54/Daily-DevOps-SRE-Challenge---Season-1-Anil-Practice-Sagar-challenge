ğŸ’¡ How NGINX Works in Your Setup (in simple words)

In your case, NGINX is acting as a reverse proxy (not a load balancer) â€”
but yes, the traffic flow is similar to what load balancers do.

Hereâ€™s what happens step by step:

User sends request â†’
From browser you hit:
ğŸ”— https://grafana.local/grafana
or
ğŸ”— https://jenkins.local/jenkins

NGINX receives the request â†’
Since your DNS (/etc/hosts) points grafana.local â†’ your Azure VM IP,
the request first hits NGINX (port 443).

TLS/SSL handshake â†’
NGINX terminates SSL (it decrypts the HTTPS request using your self-signed cert).
â†’ So, the backend (Grafana/Jenkins) receives only plain HTTP traffic internally (via 127.0.0.1).

Authentication check â†’
Before routing, NGINX validates the Basic Auth credentials (from .htpasswd).
If valid âœ… â†’ it forwards the request.
If invalid âŒ â†’ NGINX stops it right there (no load on backend).

Routing to the right backend â†’
Based on the path:

/grafana/ â†’ goes to http://127.0.0.1:3000 (Grafana Docker)

/jenkins/ â†’ goes to http://127.0.0.1:8080 (Jenkins Docker)

Response back to user â†’
Grafana or Jenkins sends the response â†’ NGINX encrypts it again (HTTPS) â†’ sends it to the browser.

ğŸ§  So in short:

NGINX here is a secure gateway (reverse proxy) â€”
doing SSL termination, authentication, and intelligent routing.

A load balancer does similar routing, but across multiple backend servers for scaling.

You have just one backend for each app, so itâ€™s reverse proxy, not load balancer.
